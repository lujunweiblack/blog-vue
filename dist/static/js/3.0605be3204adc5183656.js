webpackJsonp([3],{"/DCA":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("1o0v"),n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[null!=this.$store.state.userObj&&"ROLE_SYS_ADMIN"==this.$store.state.userObj.sysRoles[0].code?e("div",{staticClass:"operation_c"},[e("a",{staticClass:"operation_c",attrs:{href:"JavaScript: void(0);"},on:{click:function(a){return t.line()}}},[e("span",{staticClass:"span_line_c"},[t._v("    ")]),t._v("上下线\n    ")]),t._v(" "),e("a",{staticClass:"operation_c",attrs:{href:"JavaScript: void(0);"},on:{click:function(a){return t.add()}}},[e("span",{staticClass:"span_add_c"},[t._v("    ")]),t._v("新增\n    ")]),t._v(" "),e("a",{staticClass:"operation_c",attrs:{href:"JavaScript: void(0);"},on:{click:function(a){return t.edit()}}},[e("span",{staticClass:"span_edit_c"},[t._v("    ")]),t._v("修改\n    ")]),t._v(" "),e("a",{staticClass:"operation_c",attrs:{href:"JavaScript: void(0);"},on:{click:function(a){return t.del()}}},[e("span",{staticClass:"span_del_c"},[t._v("    ")]),t._v("删除\n    ")]),t._v(" "),e("span",{staticClass:"span_running_c"},[t._v("    ")]),t._v("已上线\n    "),e("span",{staticClass:"span_default_c"},[t._v("    ")]),t._v("已下线\n    "),e("span",{staticClass:"span_stop_c"},[t._v("    ")]),t._v("已删除(标记)\n    "),e("hr")]):t._e(),t._v(" "),t._l(t.articles,function(a,s){return e("div",{staticClass:"item"},[null!=t.store.state.userObj&&"ROLE_SYS_ADMIN"==t.store.state.userObj.sysRoles[0].code?e("div",{staticClass:"item_d_c"},[e("input",{attrs:{type:"checkbox"},domProps:{textContent:t._s(a)}}),t._v(" "),0==a.articleState?e("span",{staticClass:"span_default_c"},[t._v("    ")]):t._e(),t._v(" "),1==a.articleState?e("span",{staticClass:"span_running_c"},[t._v("    ")]):t._e(),t._v(" "),2==a.articleState?e("span",{staticClass:"span_stop_c"},[t._v("    ")]):t._e()]):t._e(),t._v(" "),e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.jumpCategory(a.articleId,s)}}},[e("h4",[t._v(t._s(a.articleTitleName))]),t._v(" "),e("p",[t._v(" "+t._s(a.articleIntroduction))])]),t._v(" "),e("hr")])})],2)},staticRenderFns:[]};var i=function(t){e("dn9g")},c=e("C7Lr")(s.a,n,!1,i,"data-v-68c965a4",null);a.default=c.exports},"1o0v":function(t,a,e){"use strict";(function(t){a.a={name:"Article",data:function(){return{articles:[],store:this.$store}},computed:{userObj:function(){return this.$store.state.userObj}},methods:{jumpCategory:function(t,a){var e=this.articles[a];this.$store.dispatch("fillArticle",e),this.$router.push({name:"Info"})},add:function(){this.$router.push({name:"Add"})},edit:function(){var t=this.buttonCheck();0==t.length||t.length>1?alert("请勾选一条数据"):(this.$store.dispatch("fillArticle",t[0]),this.$router.push({name:"Edit"}))},line:function(){var t=this,a=this.buttonCheck();0==a.length?alert("请勾选一条数据"):a.forEach(function(a){t.$post("/manage/article/upAndDown",{articleId:a.articleId,articleState:a.articleState}).then(function(a){console.log(a),"10200"==a.code?(t.onReadData(),alert("操作成功")):alert("操作失败")})})},del:function(){var t=this,a=this.buttonCheck();0==a.length?alert("请勾选一条数据"):a.forEach(function(a){t.$post("/manage/article/markDel",{articleId:a.articleId}).then(function(a){console.log(a),"10200"==a.code?(t.onReadData(),alert("操作成功")):alert("操作失败")})})},buttonCheck:function(){for(var a=t("input[type='checkbox']"),e=new Array,s=0;s<a.length;s++)a[s].checked&&e.push(JSON.parse(t(a[s]).text()));return e},onReadData:function(){var t=this,a="&articleState=1";null!=this.$store.state.userObj&&"ROLE_SYS_ADMIN"==this.$store.state.userObj.sysRoles[0].code&&(a=""),this.$fetch("/portal/article?articleType=1"+a).then(function(a){t.$store.dispatch("fillArticles",a.result),t.articles=a.result})}},mounted:function(){this.onReadData()},watch:{userObj:function(t,a){this.onReadData()}}}}).call(a,e("5u2O"))},dn9g:function(t,a){}});
//# sourceMappingURL=3.0605be3204adc5183656.js.map